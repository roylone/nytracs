<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta charset="utf-8" />
<title></title>

<script>
	window.onload = main;

	var ws;

	function main() {
		var oBtn = document.getElementById('btn1');
		oBtn.onclick = OnButton1;
	}

	function OnButton1() {
		ws = new WebSocket('wss://localhost:8443/ws');
		console.log("test")
		ws.onopen = OnOpen;
		ws.onmessage = OnMessage;
	}

	function OnOpen(event) {
		ws.send('hello websocket');
	}

	function OnMessage(event) {
		var oTxt = document.getElementById('txt1');
		oTxt.value = event.data;
	};
</script>
</head>
<body>
	<p>
		<input id="btn1" type="button" value="按钮" />
	</p>
	<p>
		<input id="txt1" type="text" />
	</p>
</body>
</html>